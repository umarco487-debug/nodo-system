<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>INNOVATEC RFID</title>
<style>
body{
  background:#0f172a;
  color:white;
  font-family:Arial;
  text-align:center;
}
.card{
  background:#1e293b;
  padding:20px;
  margin:auto;
  margin-top:20px;
  width:300px;
  border-radius:10px;
}
</style>
</head>
<body>

<h1>INNOVATEC RFID</h1>

<div class="card">
  <h3>Última Tarjeta Registrada</h3>
  <p id="uid">Esperando tarjeta...</p>
  <p id="mensaje" style="color:lightgreen;"></p>
</div>

<script>
async function actualizarUID() {
  try {
    const response = await fetch("/lastuid");
    const uid = await response.text();
    if(uid){
      const uidElement = document.getElementById("uid");
      if(uidElement.innerText !== "UID: "+uid){
        uidElement.innerText = "UID: " + uid;
        document.getElementById("mensaje").innerText = "Usuario registrado con éxito";
      }
    }
  } catch (err) {
    console.log("Error al obtener UID:", err);
  }
}

// Actualizar cada 1 segundo
setInterval(actualizarUID,1000);
</script>

</body>
</html>
